# v0.4.2 â€” Copilot Support, Mermaid Overhaul, Data Tables

Major feature additions including GitHub Copilot as an alternative provider, completely rebuilt Mermaid diagram engine, native data tables, and numerous stability fixes.

---

## ğŸ¤– GitHub Copilot Support

- Added GitHub Copilot as an alternative LLM provider with full OAuth authentication
- New connection screens for configuring and switching between providers
- Provider-specific icons for Claude, Copilot, OpenAI, Ollama, OpenRouter, and Vercel
- Session lock warnings when switching between providers

## ğŸ“Š Native Data Tables & Spreadsheets

- New `datatable` block for sortable, filterable data displays
- New `spreadsheet` block for Excel-style grids with export support
- `transform_data` tool for processing large datasets via scripts
- File-backed tables via `src` field for datasets with 20+ rows

## ğŸ“ Mermaid Diagram Engine Overhaul

- Replaced Dagre layout engine with ELK for better graph layouts
- Improved edge routing, bundling, and approach directions
- Multiline label support across all diagram types
- New shape system with circles, diamonds, hexagons, stadiums, and state shapes
- ASCII rendering improvements with ANSI color support
- Better subgraph direction overrides and disconnected graph handling

## ğŸ”§ Connection & Provider Improvements

- Refined LLM connection configuration screens
- Updated to Claude Opus 4.6 as default model
- OAuth token refresh improvements
- Multi-header authentication support for API sources

## ğŸ”Œ Codex Integration Fixes

- Fixed bundled Codex binary path resolution in packaged apps
- Moved codex.exe to extraResources on Windows to prevent EBUSY errors
- Skill content injection for Codex sessions (no longer relies on native discovery)
- Silent failure and title generation fixes for OAuth sessions
- Build verification now checks for Codex binary in SDK bundling stage

## ğŸ› Bug Fixes

- Fixed OAuth browser launch ENOENT error using shell.openExternal
- Fixed workspace theme not updating on workspace switch
- Fixed dock badge and window icon paths in packaged app
- Fixed Sentry to only send console errors, not warnings
- Fixed PowerShell install script to use YAML manifests
- Fixed renderer importing Node.js fs module in browser bundle
- Fixed metadata race condition in session persistence
- Consolidated large response handling

## ğŸ“¦ Dependency Updates

- Bumped claude-agent-sdk to ^0.2.37
- Bumped electron-updater to ^6.8.0
- Added elkjs for diagram layouts

## ğŸ—ï¸ Build & Infrastructure

- Default workspace sources configuration
- Unified title generation through agent SDK infrastructure
- Removed deprecated PlanningAdvisor
- Removed headless mode (consolidated into main agent flow)
